(function(){"use strict";var e={3099:function(e,t,s){var a=s(5130),o=s(6768);const n={key:1,class:"app"};function i(e,t,s,a,i,r){const l=(0,o.g2)("AppLogin"),d=(0,o.g2)("AppHeader"),m=(0,o.g2)("PostsList");return(0,o.uX)(),(0,o.CE)("div",null,[0===i.user.length?((0,o.uX)(),(0,o.Wv)(l,{key:0,onHandleGetUser:r.fetchUser},null,8,["onHandleGetUser"])):((0,o.uX)(),(0,o.CE)("div",n,[(0,o.bF)(d,{onLogout:r.logout},null,8,["onLogout"]),(0,o.bF)(m,{userId:r.skipProxyForId()},null,8,["userId"])]))])}var r=s(4232);const l={class:"tile.is-ancesto",style:{display:"flex"}},d={className:"tile is-parent"},m={className:"tile is-child box is-success"},c={className:"block"},u={className:"block is-flex is-justify-content-space-between"},h=(0,o.Lk)("p",{className:"title"},"Posts",-1),p={key:1,className:"table is-fullwidth is-striped is-hoverable is-narrow"},g=(0,o.Lk)("thead",null,[(0,o.Lk)("tr",{className:"has-background-link-light"},[(0,o.Lk)("th",null,"ID"),(0,o.Lk)("th",null,"Title"),(0,o.Lk)("th",{className:"has-text-right"},"Actions")])],-1),k={class:"has-text-right is-vcentered"},v=["onClick"];function y(e,t,s,a,n,i){const y=(0,o.g2)("PostLoader"),b=(0,o.g2)("AddPost"),L=(0,o.g2)("EditPost"),f=(0,o.g2)("PostComments");return(0,o.uX)(),(0,o.CE)("div",l,[(0,o.Lk)("div",d,[(0,o.Lk)("div",m,[(0,o.Lk)("div",c,[(0,o.Lk)("div",u,[h,(0,o.Lk)("button",{type:"button",class:(0,r.C4)(["button is-link",{"is-light":n.isAddPost}]),onClick:t[0]||(t[0]=(...e)=>i.handleChangeAddStatus&&i.handleChangeAddStatus(...e))}," Add New Post ",2)]),n.isLoading?((0,o.uX)(),(0,o.Wv)(y,{key:0})):((0,o.uX)(),(0,o.CE)("table",p,[g,(0,o.Lk)("tbody",null,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(n.posts,(e=>((0,o.uX)(),(0,o.CE)("tr",{key:e.id},[(0,o.Lk)("td",null,(0,r.v_)(e.id),1),(0,o.Lk)("td",null,(0,r.v_)(e.title),1),(0,o.Lk)("td",k,[(0,o.Lk)("button",{type:"button",class:(0,r.C4)(["button is-link",{"is-light":this.currentPostId!==e.id}]),onClick:t=>i.handleOpenPost(e.id)},(0,r.v_)(this.currentPostId!==e.id?"Open":"Close"),11,v)])])))),128))])]))])])]),(0,o.Lk)("div",{class:(0,r.C4)(["tile is-parent is-8-desktop Sidebar",{"Sidebar--open":n.isAddPost||n.isOpenedPost||n.isEditedPost}])},[n.isAddPost?((0,o.uX)(),(0,o.Wv)(b,{key:0,onHandleSubmit:i.handleSubmitPost,onHandleChangeAddStatus:t[1]||(t[1]=e=>i.handleChangeAddStatus())},null,8,["onHandleSubmit"])):(0,o.Q3)("",!0),n.isEditedPost?((0,o.uX)(),(0,o.Wv)(L,{key:1,post:i.currentOpenedPost(),onUpdatePost:i.handleUpdatePost},null,8,["post","onUpdatePost"])):(0,o.Q3)("",!0),n.isOpenedPost?((0,o.uX)(),(0,o.Wv)(f,{key:2,post:i.currentOpenedPost(),comments:n.comments,onEditPost:i.handleEditPost,onHandleAddComment:i.handleAddComment,onHandleRemovePost:i.handleRemovePost,onHandleRemoveComment:i.handleRemoveComment},null,8,["post","comments","onEditPost","onHandleAddComment","onHandleRemovePost","onHandleRemoveComment"])):(0,o.Q3)("",!0)],2)])}s(4114);const b={className:"tile is-child box is-succes"},L={className:"content"},f={className:"content"},C=(0,o.Lk)("h2",null,"Create new post",-1),N={className:"field","data-cy":"NameField"},P=(0,o.Lk)("label",{className:"label",htmlFor:"{`comment-author-name-${name}`}"}," Title ",-1),E={className:"control has-icons-left has-icons-right"},A=(0,o.Lk)("span",{class:"icon is-small is-left"},[(0,o.Lk)("i",{className:"fas fa-user"})],-1),w={key:0,class:"icon is-small is-right has-text-danger","data-cy":"ErrorIcon"},x=(0,o.Lk)("i",{className:"fas fa-exclamation-triangle"},null,-1),O=[x],I={className:"help is-danger","data-cy":"ErrorMessage"},S={className:"field","data-cy":"BodyField"},X=(0,o.Lk)("label",{className:"label",htmlFor:"{`comment-${name}`}"}," Write Post Body ",-1),$={className:"control"},U={key:0,className:"help is-danger","data-cy":"ErrorMessage"},M={className:"field is-grouped"},F={className:"control"},j={className:"control"};function _(e,t,s,n,i,l){return(0,o.uX)(),(0,o.CE)("div",b,[(0,o.Lk)("div",L,[(0,o.Lk)("div",f,[C,(0,o.Lk)("form",null,[(0,o.Lk)("div",N,[P,(0,o.Lk)("div",E,[(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>i.title=e),type:"text",name:"{name}",id:"{`comment-author-name-${name}`}",placeholder:"Post title",class:(0,r.C4)(["input",{"is-danger":i.errorMessage}]),required:""},null,2),[[a.Jo,i.title]]),A,i.errorMessage?((0,o.uX)(),(0,o.CE)("span",w,O)):(0,o.Q3)("",!0)]),(0,o.Lk)("p",I,(0,r.v_)(this.errorMessage),1)]),(0,o.Lk)("div",null,[(0,o.Lk)("div",S,[X,(0,o.Lk)("div",$,[(0,o.bo)((0,o.Lk)("textarea",{"onUpdate:modelValue":t[1]||(t[1]=e=>i.body=e),id:"{`comment-${name}`}",name:"name",placeholder:"Post body",class:(0,r.C4)(["textarea",{"is-danger":i.errorMessage}])},null,2),[[a.Jo,i.body]])]),i.errorMessage?((0,o.uX)(),(0,o.CE)("p",U,(0,r.v_)(i.errorMessage),1)):(0,o.Q3)("",!0)])]),(0,o.Lk)("div",M,[(0,o.Lk)("div",F,[(0,o.Lk)("button",{type:"submit",className:"button is-link",onClick:t[2]||(t[2]=(0,a.D$)(((...e)=>l.addPost&&l.addPost(...e)),["prevent"]))}," Create ")]),(0,o.Lk)("div",j,[(0,o.Lk)("button",{type:"reset",className:"button is-link is-light",onClick:t[3]||(t[3]=(...e)=>l.toggleChangeAddStatus&&l.toggleChangeAddStatus(...e))}," Cancel ")])])])])])])}var H={data(){return{title:"",body:"",errorMessage:""}},methods:{async addPost(){let e={title:this.title,body:this.body};0!==e.body.length&&0!==e.title.length?(this.$emit("handleSubmit",e),e={title:"",body:""}):this.errorMessage="please fill out the form"},toggleChangeAddStatus(){this.$emit("handleChangeAddStatus")}}},R=s(1241);const T=(0,R.A)(H,[["render",_]]);var B=T;const Q={className:"tile is-child box is-success"},J={className:"block"},W={className:"is-flex is-justify-content-space-between is-align-items-center"},V={className:"is-flex"},D={className:"icon is-small is-right is-clickable"},q={className:"icon is-small is-right has-text-danger is-clickable ml-3"},G={"data-cy":"PostBody"},K={key:0,className:"message is-small"},Y={key:1,className:"block"},z=(0,o.Lk)("p",{className:"title is-4"},"No comments yet",-1),Z=[z],ee={key:3,className:"field","data-cy":"BodyField"},te=(0,o.Lk)("label",{className:"label",htmlFor:"{`comment-author-name-${name}`}"}," Author Name ",-1),se={className:"control has-icons-left has-icons-right"},ae=(0,o.Lk)("span",{className:"icon is-small is-left"},[(0,o.Lk)("i",{className:"fas fa-user"})],-1),oe={key:0,className:"icon is-small is-right has-text-danger","data-cy":"ErrorIcon"},ne=(0,o.Lk)("i",{className:"fas fa-exclamation-triangle"},null,-1),ie=[ne],re={key:0,className:"help is-danger","data-cy":"ErrorMessage"},le=(0,o.Lk)("label",{className:"label",htmlFor:"user-email"}," Author Email ",-1),de={className:"control has-icons-left"},me=(0,o.Lk)("span",{className:"icon is-small is-left"},[(0,o.Lk)("i",{className:"fas fa-envelope"})],-1),ce={key:1,className:"help is-danger"},ue=(0,o.Lk)("label",{className:"label",htmlFor:"{`comment-${name}`}"}," Write Post Body ",-1),he={className:"control"},pe={key:2,className:"help is-danger","data-cy":"ErrorMessage"},ge={className:"field is-grouped"},ke={className:"control"},ve={className:"control"};function ye(e,t,s,n,i,l){const d=(0,o.g2)("CommentBody");return(0,o.uX)(),(0,o.CE)("div",Q,[(0,o.Lk)("div",J,[(0,o.Lk)("div",W,[(0,o.Lk)("h2",null,"#"+(0,r.v_)(s.post.id)+": "+(0,r.v_)(s.post.title),1),(0,o.Lk)("div",V,[(0,o.Lk)("span",D,[(0,o.Lk)("i",{className:"fas fa-pen-to-square",onClick:t[0]||(t[0]=(...e)=>l.toggleEditPost&&l.toggleEditPost(...e))})]),(0,o.Lk)("span",q,[(0,o.Lk)("i",{className:"fas fa-trash",onClick:t[1]||(t[1]=(...e)=>l.removePost&&l.removePost(...e))})])])]),(0,o.Lk)("p",G,(0,r.v_)(s.post.body),1)]),s.comments.length>0?((0,o.uX)(),(0,o.CE)("article",K,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(this.comments,(e=>((0,o.uX)(),(0,o.Wv)(d,{key:e.postId,comment:e,onHandleRemoveComment:s.handleRemoveComment},null,8,["comment","onHandleRemoveComment"])))),128))])):((0,o.uX)(),(0,o.CE)("div",Y,Z)),i.isUpdateComment?((0,o.uX)(),(0,o.CE)("div",ee,[te,(0,o.Lk)("div",se,[(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[3]||(t[3]=e=>i.name=e),type:"text",name:"{name}",id:"{`comment-author-name-${name}`}",placeholder:"Name Surmane",class:(0,r.C4)(["input",{"is-danger":i.errorText}])},null,2),[[a.Jo,i.name]]),ae,i.errorText?((0,o.uX)(),(0,o.CE)("span",oe,ie)):(0,o.Q3)("",!0)]),i.errorText?((0,o.uX)(),(0,o.CE)("p",re," error text ")):(0,o.Q3)("",!0),le,(0,o.Lk)("div",de,[(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[4]||(t[4]=e=>i.email=e),type:"email",id:"user-email",name:"email",class:(0,r.C4)(["input",{"is-danger":i.errorText}]),placeholder:"Your Email",required:""},null,2),[[a.Jo,i.email]]),me]),i.errorText?((0,o.uX)(),(0,o.CE)("p",ce,"error message")):(0,o.Q3)("",!0),ue,(0,o.Lk)("div",he,[(0,o.bo)((0,o.Lk)("textarea",{"onUpdate:modelValue":t[5]||(t[5]=e=>i.body=e),id:"{`comment-${name}`}",name:"name",placeholder:"Comment",class:(0,r.C4)(["textarea",{"is-danger":i.errorText}])},null,2),[[a.Jo,i.body]])]),i.errorText?((0,o.uX)(),(0,o.CE)("p",pe," error text ")):(0,o.Q3)("",!0),(0,o.Lk)("div",ge,[(0,o.Lk)("div",ke,[(0,o.Lk)("button",{type:"submit",className:"button is-link",onClick:t[6]||(t[6]=e=>l.addComment())}," Add Comment ")]),(0,o.Lk)("div",ve,[(0,o.Lk)("button",{type:"reset",className:"button is-link is-light",onClick:t[7]||(t[7]=(...e)=>l.toggleAddComment&&l.toggleAddComment(...e))}," Cancel ")])])])):((0,o.uX)(),(0,o.CE)("button",{key:2,type:"button",className:"button is-link",onClick:t[2]||(t[2]=(...e)=>l.toggleAddComment&&l.toggleAddComment(...e))}," Write a comment "))])}const be={className:"message-header"},Le={href:"{`mailto:${email}`}"},fe={className:"message-body"};function Ce(e,t,s,a,n,i){return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.Lk)("div",be,[(0,o.Lk)("a",Le,(0,r.v_)(s.comment.name),1),(0,o.Lk)("button",{type:"button",className:"delete is-small","aria-label":"delete",onClick:t[0]||(t[0]=e=>i.removeComment(s.comment.id))}," delete button ")]),(0,o.Lk)("div",fe,(0,r.v_)(s.comment.body),1)],64)}var Ne={inject:["removeComment"],props:{comment:Object}};const Pe=(0,R.A)(Ne,[["render",Ce]]);var Ee=Pe,Ae={data(){return{isUpdateComment:!1,postId:this.post.id,name:"",email:"",body:"",errorText:""}},components:{CommentBody:Ee},inject:["removeComment"],provide(){return{removeComment:this.removeComment}},methods:{removePost(){const e=this.post.id;this.$emit("handleRemovePost",e)},addComment(){let e={postId:this.postId,name:this.name,email:this.email,body:this.body};this.$emit("handleAddComment",e),this.toggleAddComment(),this.postId=this.post.id,this.name="",this.email="",this.body=""},toggleAddComment(){this.isUpdateComment=!this.isUpdateComment},toggleEditPost(){this.$emit("editPost")}},props:{post:Object,comments:Array,handleRemoveComment:Function}};const we=(0,R.A)(Ae,[["render",ye]]);var xe=we;const Oe={className:"tile is-child box is-success "},Ie={className:"content"},Se={className:"content"},Xe=(0,o.Lk)("h2",null,"Post editing",-1),$e={className:"field","data-cy":"NameField"},Ue=(0,o.Lk)("label",{className:"label",htmlFor:"{`comment-author-name-${name}`}"}," Title ",-1),Me={className:"control has-icons-left has-icons-right"},Fe=(0,o.Lk)("span",{class:"icon is-small is-left"},[(0,o.Lk)("i",{className:"fas fa-user"})],-1),je={key:0,class:"icon is-small is-right has-text-danger","data-cy":"ErrorIcon"},_e=(0,o.Lk)("i",{className:"fas fa-exclamation-triangle"},null,-1),He=[_e],Re={className:"help is-danger","data-cy":"ErrorMessage"},Te={className:"field","data-cy":"BodyField"},Be=(0,o.Lk)("label",{className:"label",htmlFor:"{`comment-${name}`}"}," Write Post Body ",-1),Qe={className:"control"},Je={key:0,className:"help is-danger","data-cy":"ErrorMessage"},We={className:"field is-grouped"},Ve={className:"control"},De={className:"control"};function qe(e,t,s,n,i,l){return(0,o.uX)(),(0,o.CE)("div",Oe,[(0,o.Lk)("div",Ie,[(0,o.Lk)("div",Se,[Xe,(0,o.Lk)("form",null,[(0,o.Lk)("div",$e,[Ue,(0,o.Lk)("div",Me,[(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>i.title=e),type:"text",name:"{name}",id:"{`comment-author-name-${name}`}",placeholder:"Post title",class:(0,r.C4)(["input",{"is-danger":i.errorMessage}]),required:""},null,2),[[a.Jo,i.title]]),Fe,i.errorMessage?((0,o.uX)(),(0,o.CE)("span",je,He)):(0,o.Q3)("",!0)]),(0,o.Lk)("p",Re,(0,r.v_)(this.errorMessage),1)]),(0,o.Lk)("div",null,[(0,o.Lk)("div",Te,[Be,(0,o.Lk)("div",Qe,[(0,o.bo)((0,o.Lk)("textarea",{"onUpdate:modelValue":t[1]||(t[1]=e=>i.body=e),id:"{`comment-${name}`}",name:"name",placeholder:"Post body",class:(0,r.C4)(["textarea",{"is-danger":i.errorMessage}])},null,2),[[a.Jo,i.body]])]),i.errorMessage?((0,o.uX)(),(0,o.CE)("p",Je,(0,r.v_)(i.errorMessage),1)):(0,o.Q3)("",!0)])]),(0,o.Lk)("div",We,[(0,o.Lk)("div",Ve,[(0,o.Lk)("button",{type:"submit",className:"button is-link",onClick:t[2]||(t[2]=(0,a.D$)(((...e)=>l.handleUpdatePost&&l.handleUpdatePost(...e)),["prevent"]))}," Save ")]),(0,o.Lk)("div",De,[(0,o.Lk)("button",{type:"reset",className:"button is-link is-light",onClick:t[3]||(t[3]=(...t)=>e.toggleChangeAddStatus&&e.toggleChangeAddStatus(...t))}," Cancel ")])])])])])])}var Ge={data(){return{title:this.post.title,body:this.post.body,errorMessage:""}},methods:{handleUpdatePost(){this.$emit("updatePost",{title:this.title,body:this.body,postId:this.post.id})}},props:{post:Object}};const Ke=(0,R.A)(Ge,[["render",qe]]);var Ye=Ke;const ze={className:"is-flex is-justify-content-center is-align-items-center mt-2"},Ze=(0,o.Lk)("div",{className:"lds-ring is-loading"},[(0,o.Lk)("div"),(0,o.Lk)("div"),(0,o.Lk)("div"),(0,o.Lk)("div")],-1),et=[Ze];function tt(e,t){return(0,o.uX)(),(0,o.CE)("div",ze,et)}const st={},at=(0,R.A)(st,[["render",tt]]);var ot=at,nt=s(8355);const it=nt.A.create({baseURL:"https://mate.academy/students-api"}),rt=e=>it.get(`/posts?userId=${e}`),lt=async(e,t)=>{try{const s=await it.post("/posts",{userId:237,title:e,body:t});return s}catch(s){throw new Error("Error creating post: "+s.message)}},dt=async e=>{try{const t=await it.delete(`/posts/${e}`);return t}catch(t){throw new Error("error removing post",t)}},mt=async(e,t,s)=>{try{const a=await it.patch(`/posts/${s}`,{title:e,body:t});return a}catch(a){throw new Error("error update post",a)}},ct=e=>it.get(`/comments?postId=${e}`),ut=async({postId:e,name:t,email:s,body:a})=>{try{const o=await it.post("/comments",{postId:e,name:t,email:s,body:a});return o}catch(o){throw new Error("Error creating comment: "+o.message)}},ht=async e=>it.delete(`/comments/${e}`);var pt={components:{AddPost:B,PostComments:xe,EditPost:Ye,PostLoader:ot},data(){return{isAddPost:!1,isOpenedPost:!1,isEditedPost:!1,isLoading:!1,currentPostId:0,posts:[],comments:[]}},props:{userId:Array},mounted(){this.fetchPosts()},methods:{async fetchPosts(){try{this.isLoading=!0;const{data:e}=await rt(this.userId[0]);this.posts=e}catch(e){console.error("Error fetching posts:",e)}finally{this.isLoading=!1}},async handleSubmitPost({title:e,body:t}){try{const{data:s}=await lt(e,t);this.posts.push(s),this.isAddPost=!1}catch(s){throw new Error("Error adding post: "+s.message)}},async getCommentById(e){try{const{data:t}=await ct(e);return this.currentComment=t,this.currentComment}catch{throw new Error("error fetchin comment")}},async handleUpdatePost(e){const{title:t,body:s,postId:a}=e;try{this.isLoading=!0;const{data:e}=await mt(t,s,a);this.posts=this.posts.map((t=>t.id===a?e:t)),this.isEditedPost=!1,this.isOpenedPost=!0}catch{throw new Error("error update post")}finally{this.isLoading=!1}},async handleRemovePost(e){try{this.isLoading=!0;const{data:t}=await dt(e);console.log("Comment added successfully:",t),this.isOpenedPost=!1,this.posts=this.posts.filter((t=>t.id!==e))}catch(t){throw new Error("Error removing post: "+t.message)}finally{this.isLoading=!1}},async handleAddComment(e){try{const{data:t}=await ut(e);this.comments.push(t),console.log("Comment added successfully:",t)}catch(t){throw console.error("Error adding comment:",t),new Error("Error adding comment: "+t.message)}},async handleRemoveComment(e){try{await ht(e),this.comments=this.comments.filter((t=>t.id!==e)),console.log("Comment removed successfully:",e)}catch(t){throw new Error("Error removing comment: "+t.message)}},handleChangeAddStatus(){this.isAddPost=!this.isAddPost,this.currentPostId=0,!0===this.isAddPost&&(this.isOpenedPost=!1)},handleChangeOpenPostStatus(){this.isOpenedPost=!this.isOpenedPost,!0===this.isOpenedPost&&(this.isAddPost=!1)},currentOpenedPost(){return this.posts.find((e=>e.id===this.currentPostId))},currentOpenedComment(){return this.currentComment.filter((e=>e.postId===this.currentPostId))},async handleOpenPost(e){this.currentPostId!==e?(this.currentPostId=e,this.currentComment=await this.getCommentById(e),this.comments=this.currentOpenedComment(),this.isOpenedPost=!0,this.isAddPost=!1):(this.currentPostId=null,this.isOpenedPost=!1)},handleEditPost(){this.isEditedPost=!this.isEditedPost,!0===this.isEditedPost&&(this.isAddPost=!1,this.isOpenedPost=!1)}},provide(){return{removeComment:this.handleRemoveComment}}};const gt=(0,R.A)(pt,[["render",y]]);var kt=gt;const vt={className:"navbar",role:"navigation","aria-label":"main navigation"},yt=(0,o.Lk)("div",{className:"navbar-item"},[(0,o.Lk)("h2",{className:"is-size-4"},"Vue List Of Posts")],-1),bt={className:"navbar-end"},Lt={className:"navbar-item"},ft={className:"buttons"},Ct=(0,o.Lk)("div",{className:"mr-5 mb-2"},[(0,o.Lk)("p",null,"User: sat")],-1);function Nt(e,t,s,n,i,r){return(0,o.uX)(),(0,o.CE)("nav",vt,[yt,(0,o.Lk)("div",bt,[(0,o.Lk)("div",Lt,[(0,o.Lk)("div",ft,[Ct,(0,o.Lk)("a",{className:"button is-light",onClick:t[0]||(t[0]=(0,a.D$)(((...e)=>r.handlerLogout&&r.handlerLogout(...e)),["prevent"]))}," Logout ")])])])])}var Pt={props:{username:String},methods:{handlerLogout(){this.$emit("logout")}}};const Et=(0,R.A)(Pt,[["render",Nt]]);var At=Et;const wt={className:"container is-flex is-justify-content-center"},xt={className:"box mt-5"},Ot=(0,o.Lk)("h1",{className:"title is-3"},"You need to register",-1),It={className:"field"},St=(0,o.Lk)("label",{className:"label",htmlFor:"user-email"}," Email ",-1),Xt={className:"control has-icons-left"},$t=(0,o.Lk)("span",{className:"icon is-small is-left"},[(0,o.Lk)("i",{className:"fas fa-envelope"})],-1),Ut={key:0,className:"help is-danger"},Mt={className:"field"};function Ft(e,t,s,n,i,r){return(0,o.uX)(),(0,o.CE)("section",wt,[(0,o.Lk)("form",xt,[Ot,(0,o.Lk)("div",It,[St,(0,o.Lk)("div",Xt,[(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>i.email=e),type:"email",id:"user-email",name:"email",className:"input",placeholder:"Enter your email",required:""},null,512),[[a.Jo,i.email]]),$t]),0===this.email.length?((0,o.uX)(),(0,o.CE)("p",Ut," error message ")):(0,o.Q3)("",!0)]),(0,o.Lk)("div",Mt,[(0,o.Lk)("button",{type:"submit",className:"button is-primary",onClick:t[1]||(t[1]=(0,a.D$)(((...e)=>r.appLoginByEmail&&r.appLoginByEmail(...e)),["prevent"]))}," Login ")])])])}var jt={data(){return{email:"asd@sad"}},methods:{appLoginByEmail(){0!==this.email.length&&this.$emit("handleGetUser",this.email)}}};const _t=(0,R.A)(jt,[["render",Ft]]);var Ht=_t;const Rt=e=>it.get(`/users?email=${e}`);var Tt={name:"App",components:{PostsList:kt,AppHeader:At,AppLogin:Ht},data(){return{user:[]}},mounted(){this.fetchUser()},methods:{async fetchUser(e){try{let t=JSON.parse(localStorage.getItem("userData"));if(t&&Object.keys(t).length>0)this.user=t;else{const{data:t}=await Rt(e);t&&Object.keys(t).length>0?(this.user=t,localStorage.setItem("userData",JSON.stringify(t)),localStorage.setItem("userEmail",e)):console.error("User data is empty or not found")}}catch(t){console.error("Error fetching user:",t)}},skipProxyForId(){return this.user.map((e=>e.id))},logout(){this.user=[],localStorage.removeItem("userData"),localStorage.removeItem("userEmail")}}};const Bt=(0,R.A)(Tt,[["render",i]]);var Qt=Bt;(0,a.Ef)(Qt).mount("#app")}},t={};function s(a){var o=t[a];if(void 0!==o)return o.exports;var n=t[a]={exports:{}};return e[a].call(n.exports,n,n.exports,s),n.exports}s.m=e,function(){var e=[];s.O=function(t,a,o,n){if(!a){var i=1/0;for(m=0;m<e.length;m++){a=e[m][0],o=e[m][1],n=e[m][2];for(var r=!0,l=0;l<a.length;l++)(!1&n||i>=n)&&Object.keys(s.O).every((function(e){return s.O[e](a[l])}))?a.splice(l--,1):(r=!1,n<i&&(i=n));if(r){e.splice(m--,1);var d=o();void 0!==d&&(t=d)}}return t}n=n||0;for(var m=e.length;m>0&&e[m-1][2]>n;m--)e[m]=e[m-1];e[m]=[a,o,n]}}(),function(){s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,{a:t}),t}}(),function(){s.d=function(e,t){for(var a in t)s.o(t,a)&&!s.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={524:0};s.O.j=function(t){return 0===e[t]};var t=function(t,a){var o,n,i=a[0],r=a[1],l=a[2],d=0;if(i.some((function(t){return 0!==e[t]}))){for(o in r)s.o(r,o)&&(s.m[o]=r[o]);if(l)var m=l(s)}for(t&&t(a);d<i.length;d++)n=i[d],s.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return s.O(m)},a=self["webpackChunkmarkup_vue"]=self["webpackChunkmarkup_vue"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=s.O(void 0,[504],(function(){return s(3099)}));a=s.O(a)})();
//# sourceMappingURL=app.68f99f3c.js.map